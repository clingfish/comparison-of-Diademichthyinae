<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ウバウオ科 Diademichthyinae 属間比較表</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      background-color: #f7f7f7;
      margin: 20px;
    }
    h1 { text-align: center; font-size: 20px; }
    select { margin: 0 10px; padding: 5px; }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
      background: white;
    }
    th, td {
      border: 1.5px solid #999;
      padding: 8px;
      text-align: center;
    }
    tbody tr:nth-child(even) { background-color: #fafafa; }
    thead th {
      position: sticky;
      top: 0;
      background: #fff;
      z-index: 2;
    }

    /* グループ別に背景色を付ける */
    optgroup[label^="吸盤が複型のグループ"] option {
      background-color: #eef6ff;
    }
    optgroup[label^="吸盤が単型のグループ"] option {
      background-color: #fff3e6;
    }
  </style>
</head>
<body>

<h1>ウバウオ科 Diademichthyinae 属間比較表</h1>

<div style="text-align:center;">
  <label>属1:
    <select id="fish1" onchange="updateTable()">
      <option value="">選択してください</option>
    </select>
  </label>
  <label>属2:
    <select id="fish2" onchange="updateTable()">
      <option value="">選択してください</option>
    </select>
  </label>
  <label>属3:
    <select id="fish3" onchange="updateTable()">
      <option value="">選択してください</option>
    </select>
  </label>
</div>

<table>
  <thead>
    <tr>
      <th>項目</th>
      <th id="header1">属1</th>
      <th id="header2">属2</th>
      <th id="header3">属3</th>
    </tr>
  </thead>
  <tbody id="compare-body"></tbody>
</table>

<script>
// ===== 魚データ（Excel 2～18行目より） =====
const fishList = [
  {"name":"未記載属 A","img": "images/mikisaizoku_A.png","imgDisc": "images/mikisaizoku_A_disc.jpg","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"あり","item5":"3","item6":"膜でつながらない","item7":"ほとんどない","item8":"-","item9":"-","item10":"被針状　膨出部に歯がある"},

  
  {"name":"未記載属 B","img": "images/mikisaizoku_B.png","imgDisc": "images/mikisaizoku_B_disc.jpg","item1":"複型　吸盤中央部の乳頭状突起が著しく少なく、その数は1～2","item2":"中央部に突起がなく、左右で分かれる","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"3","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"未記載属 C","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"2","item6":"膜でつながらない","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"不明"},

  
  {"name":"ウバウオ属","img": "images/Aspasma.png","imgDisc": "images/Aspasma_ubauo_disc.jpg","item1":"複型","item2":"中央部に突起がなく、左右で分かれる","item3":"吻部の皮膚と癒合・埋没しない","item4":"あり","item5":"3","item6":"膜でつながる","item7":"ほとんどない","item8":"-","item9":"-","item10":"被針状　膨出部に歯がある"},

  
  {"name":"ツルウバウオ属","img": "images/Aspasmichthys.png","imgDisc": "images/Aspasmichthys_disc.jpg","item1":"複型","item2":"左右で分かれる（突起がない部分はひじょうに幅狭いスリット状）","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"3","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"被針状　膨出部に歯がある"},

  
  {"name":"ヒメウバウオ属","img": "images/Propherallodus.png","imgDisc": "images/Propherallodus_disc.jpg","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"あり","item5":"3","item6":"膜でつながらない","item7":"ほとんどない","item8":"-","item9":"-","item10":"被針状　膨出部に歯がある"},

  
  {"name":"ホソウバウオ属","img": "images/Pherallodus.png","imgDisc": "images/Pherallodus_disc.jpg","item1":"複型","item2":"中央部に突起がなく、左右で分かれる","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"0または2","item6":"膜でつながらない","item7":"非常に幅狭い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"メシマウバウオ属","img": "images/Liobranchia.png","imgDisc": "images/Liobranchia_disc.jpg","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"2","item6":"膜でつながる","item7":"ほとんどない","item8":"-","item9":"-","item10":"被針状　膨出部に歯がある"},

  
  {"name":"Erdmannichthys","img": "images/Erdmannichthys.png","imgDisc": "images/Erdmannichthys_disc.jpg","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"2","item6":"膜でつながらない","item7":"非常に幅狭い楕円形","item8":"-","item9":"-","item10":"不明"},

  
  {"name":"Flexor","img": "images/Flexor.png","imgDisc": "images/Flexor_disc.jpg","item1":"複型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"3","item6":"膜でつながらない","item7":"非常に幅狭い楕円形～卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"未記載属 D","img": "images/mikisaizoku_D.png","imgDisc": "images/Mikisaizoku_D_disc.jpg","item1":"単型","item2":"中央部に突起がなく、左右で分かれる","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"3","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"アマツミウバウオ属","img": "images/Lepadicyathus.png","imgDisc": "images/Lepadicyathus_disc.jpg","item1":"単型","item2":"中央部に突起がなく、左右で分かれる","imgLip": "images/Lepadicyathus_oral_features.jpg","item3":"吻部の皮膚に後方部が埋没する","item4":"なし","item5":"0","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"ウミシダウバウオ属","img": "images/Discotrema.png","imgDisc": "images/Discotrema_disc.jpg","item1":"単型　中央部に大きな空隙がある　突起の先端が硬質化する","item2":"中央で連続する","imgLip": "images/Discotrema_oral_features.jpg","item3":"吻部の皮膚と癒合する","item4":"なし","item5":"0","item6":"膜でつながる","item7":"ほとんどない","item8":"-","item9":"-","item10":"棒～棍棒状　歯がない"},

  
  {"name":"タスジウミシダウバウオ属","img": "images/Rhinolepadichthys.png","imgDisc": "images/Rhinolepadichthys_disc.jpg","item1":"単型　突起の先端が硬質化する","item2":"中央で連続する","imgLip": "images/Rhinolepadichthys_oral_features.jpg","item3":"吻部の皮膚と癒合する","item4":"なし","item5":"0","item6":"膜でつながる","item7":"ほとんどない","item8":"-","item9":"-","item10":"被針状　歯がない"},

  
  {"name":"ハシナガウバウオ属","img": "images/Diademichthys.png","imgDisc": "images/Diademichthys_disc.jpg","item1":"単型　吸盤サイズがひじょうに小さい","item2":"中央で連続する","imgLip": "images/Diademichthys_oral_features.jpg","item3":"吻部の皮膚と癒合する","item4":"なし","item5":"2","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},

  
  {"name":"ミサキウバウオ属","img": "images/Lepadichthys.png","imgDisc": "images/Lepadichthys_disc.jpg","item1":"単型","item2":"中央で連続する","item3":"吻部の皮膚と癒合・埋没しない","item4":"なし","item5":"3","item6":"膜でつながる","item7":"非常に大きく、三角形に近い","item8":"-","item9":"-","item10":"棒～棍棒状　全体的に歯がある"},
  

  {"name":"Flabellicauda","img": "images/Flabellicauda.png","imgDisc": "images/Flabellicauda_disc.jpg","item1":"単型　吸盤サイズがひじょうに小さい","item2":"中央部に突起がなく、左右で分かれる　または　中央で連続する","imgLip": "images/Flabellicauda_oral_features.jpg","item3":"吻部の皮膚に後方部が埋没する","item4":"なし","item5":"0","item6":"膜でつながる","item7":"卵型に近い楕円形","item8":"-","item9":"-","item10":"棒～棍棒状　歯がない"}
];

const compareItems = [
  {"label":"吸盤タイプ","key":"item1"},
  {"label":"吸盤前縁部の乳頭状突起","key":"item2"},
  {"label":"上唇","key":"item3"},
  {"label":"下唇前方部の葉状突出部","key":"item4"},
  {"label":"前鰓蓋感覚孔数","key":"item5"},
  {"label":"鰓膜と峡部","key":"item6"},
  {"label":"前上顎骨前方間の空隙","key":"item7"},
  {"label":"上顎歯","key":"item8"},
  {"label":"下顎歯","key":"item9"},
  {"label":"第5角鰓骨（ceratobranchial 5）","key":"item10"}
];

// ===== セレクト初期化（2色グループ） =====
function initSelects() {
  const selects = [fish1, fish2, fish3];

  const group1Names = [
    "未記載属 A","未記載属 B","未記載属 C","ウバウオ属","ツルウバウオ属",
    "ヒメウバウオ属","ホソウバウオ属","メシマウバウオ属","Erdmannichthys","Flexor"
  ];
  const group2Names = [
    "未記載属 D","アマツミウバウオ属","ウミシダウバウオ属","タスジウミシダウバウオ属",
    "ハシナガウバウオ属","ミサキウバウオ属","Flabellicauda"
  ];

  selects.forEach(select => {
    select.innerHTML = '<option value="">選択してください</option>';

    const group1 = document.createElement("optgroup");
    group1.label = "吸盤が複型のグループ";

    group1Names.forEach(name => {
      const fish = fishList.find(f => f.name === name);
      if (fish) {
        const opt = document.createElement("option");
        opt.value = fish.name;
        opt.textContent = fish.name;
        group1.appendChild(opt);
      }
    });

    const group2 = document.createElement("optgroup");
    group2.label = "吸盤が単型のグループ";

    group2Names.forEach(name => {
      const fish = fishList.find(f => f.name === name);
      if (fish) {
        const opt = document.createElement("option");
        opt.value = fish.name;
        opt.textContent = fish.name;
        group2.appendChild(opt);
      }
    });

    select.appendChild(group1);
    select.appendChild(group2);
  });
}

// ===== 表更新 =====
function updateTable() {
  const selected = [fish1.value, fish2.value, fish3.value].map(
    name => fishList.find(f => f.name === name)
  );
  const headers = [header1, header2, header3];

  headers.forEach((h, i) => {
    h.innerHTML = ""; // クリア
    if (selected[i]) {
      // 属名を先に追加（上に表示）
      const span = document.createElement("span");
      span.textContent = selected[i].name;
      h.appendChild(span);

      // 画像を追加（文字の下に表示）
      if (selected[i].img) {
        const img = document.createElement("img");
        img.src = selected[i].img;
        img.alt = selected[i].name;
        img.style.width = "200px";
        img.style.height = "auto";
        img.style.display = "block";
        img.style.margin = "5px auto 0"; // 上に余白をつける
        h.appendChild(img);
      }
    } else {
      h.textContent = `属${i + 1}`;
    }
  });

   // ---- 本体テーブル更新 ----
  const tbody = document.getElementById("compare-body");
  tbody.innerHTML = "";

  compareItems.forEach(item => {
  const tr = document.createElement("tr");
  const th = document.createElement("td");
  th.textContent = item.label;
  tr.appendChild(th);

  selected.forEach(fish => {
    const td = document.createElement("td");

    if (fish) {
      // ===== 吸盤タイプ（item1）行 =====
      if (item.key === "item1" && fish.imgDisc) {
        td.innerHTML = `
          <img src="${fish.imgDisc}" 
               alt="${fish.name} 吸盤" 
               style="width:200px; height:auto; display:block; margin:0 auto 5px; border-radius:6px;">
          <div>${fish[item.key]}</div>
        `;
      
      // ===== 上唇（item3）行 =====
      } else if (item.key === "item3" && fish.imgLip) {
        td.innerHTML = `
          <img src="${fish.imgLip}" 
               alt="${fish.name} 上唇" 
               style="width:200px; height:auto; display:block; margin:0 auto 5px; border-radius:6px;">
          <div>${fish[item.key]}</div>
        `;
      
      // ===== 通常テキスト行 =====
      } else {
        td.textContent = fish[item.key] || "-";
      }
    } else {
      td.textContent = "-";
    }

    tr.appendChild(td);
  });

  tbody.appendChild(tr);
});
}

initSelects();
</script>

</body>
</html>
